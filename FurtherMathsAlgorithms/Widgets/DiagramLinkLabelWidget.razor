@using Blazor.Diagrams.Core.Geometry
@using Blazor.Diagrams.Core.Extensions
@using FurtherMathsAlgorithms.Models

@{
  if (Label.ShowLabel)
  {

    <foreignObject class="graphml-link" x="@X.ToInvariantString()" y="@Y.ToInvariantString()">
        <div style="font-size:16px;width:140px" class="link-label">
        <EditForm Model="Label">
            <label>@Label.Content</label>
            <InputNumber @bind-Value="Label.EdgeDistance" style="width:50px"></InputNumber>
        </EditForm> 
        </div>
    </foreignObject>
  }
}

@code {

  [Parameter]
  public DiagramLinkLabel Label { get; set; }

  [Parameter]
  public Point Position { get; set; }

  private double X => Position.X + (Label.Offset?.X ?? 0);
  private double Y => Position.Y + (Label.Offset?.Y ?? 0);
}
